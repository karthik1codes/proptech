<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="5" skipped="0" tests="74" time="61.505" timestamp="2026-02-12T21:11:37.434244+00:00" hostname="agent-env-08f1e4e1-63d2-47f4-ab26-a992c6ff2209"><testcase classname="backend.tests.test_conversational_whatsapp.TestHealthAndBasicEndpoints" name="test_health_endpoint" time="0.889" /><testcase classname="backend.tests.test_conversational_whatsapp.TestHealthAndBasicEndpoints" name="test_root_endpoint_with_mcp_enabled" time="0.839" /><testcase classname="backend.tests.test_conversational_whatsapp.TestMCPEndpoint" name="test_mcp_endpoint_accessible" time="0.857" /><testcase classname="backend.tests.test_conversational_whatsapp.TestMCPEndpoint" name="test_mcp_tools_list" time="0.659" /><testcase classname="backend.tests.test_conversational_whatsapp.TestWhatsAppWebhookHelpCommand" name="test_help_command" time="0.866" /><testcase classname="backend.tests.test_conversational_whatsapp.TestWhatsAppWebhookHelpCommand" name="test_commands_keyword" time="0.848" /><testcase classname="backend.tests.test_conversational_whatsapp.TestWhatsAppWebhookListCommand" name="test_list_command_shows_properties" time="0.837" /><testcase classname="backend.tests.test_conversational_whatsapp.TestWhatsAppWebhookListCommand" name="test_properties_keyword" time="0.859" /><testcase classname="backend.tests.test_conversational_whatsapp.TestWhatsAppWebhookListCommand" name="test_list_properties_keyword" time="0.639" /><testcase classname="backend.tests.test_conversational_whatsapp.TestWhatsAppWebhookFloorControlRequiresLinking" name="test_close_floor_requires_linking" time="0.850" /><testcase classname="backend.tests.test_conversational_whatsapp.TestWhatsAppWebhookFloorControlRequiresLinking" name="test_open_floor_requires_linking" time="0.858" /><testcase classname="backend.tests.test_conversational_whatsapp.TestWhatsAppWebhookFloorControlRequiresLinking" name="test_simulate_requires_linking" time="0.641" /><testcase classname="backend.tests.test_conversational_whatsapp.TestWhatsAppWebhookFloorControlRequiresLinking" name="test_reset_requires_linking" time="0.854" /><testcase classname="backend.tests.test_conversational_whatsapp.TestWhatsAppWebhookFloorControlRequiresLinking" name="test_what_if_requires_linking" time="0.654" /><testcase classname="backend.tests.test_conversational_whatsapp.TestWhatsAppWebhookNoAuthCommands" name="test_status_command_no_auth" time="0.874" /><testcase classname="backend.tests.test_conversational_whatsapp.TestWhatsAppWebhookNoAuthCommands" name="test_property_query_requires_linking" time="0.649" /><testcase classname="backend.tests.test_conversational_whatsapp.TestWhatsAppStatusEndpoint" name="test_whatsapp_status_endpoint" time="0.646" /><testcase classname="backend.tests.test_conversational_whatsapp.TestWhatsAppStatusEndpoint" name="test_whatsapp_status_twilio_configured" time="0.634" /><testcase classname="backend.tests.test_conversational_whatsapp.TestWhatsAppStatusEndpoint" name="test_alert_scheduler_running" time="0.858" /><testcase classname="backend.tests.test_conversational_whatsapp.TestExistingAuthRoutes" name="test_properties_requires_auth" time="0.832" /><testcase classname="backend.tests.test_conversational_whatsapp.TestExistingAuthRoutes" name="test_auth_me_requires_auth" time="0.850" /><testcase classname="backend.tests.test_conversational_whatsapp.TestExistingAuthRoutes" name="test_user_state_requires_auth" time="0.659" /><testcase classname="backend.tests.test_conversational_whatsapp.TestExistingAuthRoutes" name="test_whatsapp_link_initiate_requires_auth" time="0.842" /><testcase classname="backend.tests.test_conversational_whatsapp.TestExistingAuthRoutes" name="test_whatsapp_conversations_requires_auth" time="0.843" /><testcase classname="backend.tests.test_conversational_whatsapp.TestCommandParser" name="test_close_f3_syntax" time="0.867" /><testcase classname="backend.tests.test_conversational_whatsapp.TestCommandParser" name="test_close_floor_3_syntax" time="0.639" /><testcase classname="backend.tests.test_conversational_whatsapp.TestCommandParser" name="test_property_name_recognition" time="0.853" /><testcase classname="backend.tests.test_conversational_whatsapp.TestCommandParser" name="test_unknown_command_returns_welcome" time="0.848" /><testcase classname="backend.tests.test_conversational_whatsapp.TestWhatsAppLinkingEndpoints" name="test_link_status_requires_auth" time="0.863" /><testcase classname="backend.tests.test_conversational_whatsapp.TestWhatsAppLinkingEndpoints" name="test_link_verify_requires_auth" time="0.850" /><testcase classname="backend.tests.test_conversational_whatsapp.TestWhatsAppLinkingEndpoints" name="test_link_unlink_requires_auth" time="0.852" /><testcase classname="backend.tests.test_conversational_whatsapp.TestAlertEndpoints" name="test_alerts_subscribe_requires_auth" time="0.647" /><testcase classname="backend.tests.test_conversational_whatsapp.TestAlertEndpoints" name="test_alerts_subscriptions_requires_auth" time="0.857" /><testcase classname="backend.tests.test_conversational_whatsapp.TestWebhookCommands" name="test_alerts_command_requires_linking" time="0.840" /><testcase classname="backend.tests.test_conversational_whatsapp.TestWebhookCommands" name="test_subscribe_command_via_webhook" time="0.647" /><testcase classname="backend.tests.test_conversational_whatsapp.TestWebhookCommands" name="test_unsubscribe_command_via_webhook" time="0.874" /><testcase classname="backend.tests.test_mcp_whatsapp.TestHealthEndpoints" name="test_health_endpoint" time="0.649" /><testcase classname="backend.tests.test_mcp_whatsapp.TestHealthEndpoints" name="test_root_endpoint" time="0.645" /><testcase classname="backend.tests.test_mcp_whatsapp.TestMCPEndpoint" name="test_mcp_initialize" time="0.649" /><testcase classname="backend.tests.test_mcp_whatsapp.TestMCPEndpoint" name="test_mcp_tools_list" time="0.854" /><testcase classname="backend.tests.test_mcp_whatsapp.TestMCPEndpoint" name="test_mcp_tools_call_list_properties" time="0.851" /><testcase classname="backend.tests.test_mcp_whatsapp.TestMCPEndpoint" name="test_mcp_tools_call_get_property_overview" time="0.637" /><testcase classname="backend.tests.test_mcp_whatsapp.TestMCPEndpoint" name="test_mcp_error_response_format" time="0.860" /><testcase classname="backend.tests.test_mcp_whatsapp.TestMCPEndpoint" name="test_mcp_unknown_tool_error" time="0.850" /><testcase classname="backend.tests.test_mcp_whatsapp.TestWhatsAppEndpoints" name="test_whatsapp_status_endpoint" time="0.638" /><testcase classname="backend.tests.test_mcp_whatsapp.TestWhatsAppEndpoints" name="test_whatsapp_webhook_list_command" time="0.840" /><testcase classname="backend.tests.test_mcp_whatsapp.TestWhatsAppEndpoints" name="test_whatsapp_webhook_property_query" time="0.855"><failure message="assert 'Horizon Tech Park' in '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;Response&gt;&lt;Message&gt;#x1F512 *Account Not Linked*\n\nTo use floor controls, simulations, and reports, please link your WhatsApp in the dashboard.\n\n━━━━━━━━━━━━━━━━━━\n*Available without linking:*\n• *list* - View all properties\n• *help* - Show commands\n• *status* - System status\n━━━━━━━━━━━━━━━━━━\n\n_Log in to your dashboard and go to Settings → Link WhatsApp_&lt;/Message&gt;&lt;/Response&gt;'">backend/tests/test_mcp_whatsapp.py:275: in test_whatsapp_webhook_property_query
    assert "Horizon Tech Park" in content
E   assert 'Horizon Tech Park' in '&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;Response&gt;&lt;Message&gt;#x1F512 *Account Not Linked*\n\nTo use floor controls, simulations, and reports, please link your WhatsApp in the dashboard.\n\n━━━━━━━━━━━━━━━━━━\n*Available without linking:*\n• *list* - View all properties\n• *help* - Show commands\n• *status* - System status\n━━━━━━━━━━━━━━━━━━\n\n_Log in to your dashboard and go to Settings → Link WhatsApp_&lt;/Message&gt;&lt;/Response&gt;'</failure></testcase><testcase classname="backend.tests.test_mcp_whatsapp.TestWhatsAppEndpoints" name="test_whatsapp_webhook_help_command" time="0.640" /><testcase classname="backend.tests.test_mcp_whatsapp.TestWhatsAppEndpoints" name="test_whatsapp_webhook_default_response" time="0.650" /><testcase classname="backend.tests.test_mcp_whatsapp.TestAuthAndProtectedRoutes" name="test_properties_requires_auth" time="0.871" /><testcase classname="backend.tests.test_mcp_whatsapp.TestAuthAndProtectedRoutes" name="test_openai_mcp_removed" time="0.841" /><testcase classname="backend.tests.test_mcp_whatsapp.TestMCPAdditionalTools" name="test_simulate_floor_closure" time="0.844" /><testcase classname="backend.tests.test_mcp_whatsapp.TestMCPAdditionalTools" name="test_energy_savings_report" time="0.853" /><testcase classname="backend.tests.test_mcp_whatsapp.TestMCPAdditionalTools" name="test_get_recommendations" time="0.633" /><testcase classname="backend.tests.test_whatsapp_backlog.TestMessageTemplates" name="test_help_command_returns_templated_response" time="0.851" /><testcase classname="backend.tests.test_whatsapp_backlog.TestMessageTemplates" name="test_list_command_returns_property_list_template" time="0.649" /><testcase classname="backend.tests.test_whatsapp_backlog.TestMessageTemplates" name="test_property_name_query_returns_detailed_template" time="0.865"><failure message="assert 'Horizon Tech Park' in '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;Response&gt;&lt;Message&gt;#x1F512 *Account Not Linked*\n\nTo use floor controls, simulations, and reports, please link your WhatsApp in the dashboard.\n\n━━━━━━━━━━━━━━━━━━\n*Available without linking:*\n• *list* - View all properties\n• *help* - Show commands\n• *status* - System status\n━━━━━━━━━━━━━━━━━━\n\n_Log in to your dashboard and go to Settings → Link WhatsApp_&lt;/Message&gt;&lt;/Response&gt;'">backend/tests/test_whatsapp_backlog.py:83: in test_property_name_query_returns_detailed_template
    assert "Horizon Tech Park" in content
E   assert 'Horizon Tech Park' in '&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;Response&gt;&lt;Message&gt;#x1F512 *Account Not Linked*\n\nTo use floor controls, simulations, and reports, please link your WhatsApp in the dashboard.\n\n━━━━━━━━━━━━━━━━━━\n*Available without linking:*\n• *list* - View all properties\n• *help* - Show commands\n• *status* - System status\n━━━━━━━━━━━━━━━━━━\n\n_Log in to your dashboard and go to Settings → Link WhatsApp_&lt;/Message&gt;&lt;/Response&gt;'</failure></testcase><testcase classname="backend.tests.test_whatsapp_backlog.TestMessageTemplates" name="test_partial_property_name_match" time="0.648"><failure message="assert 'Horizon Tech Park' in '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;Response&gt;&lt;Message&gt;#x1F512 *Account Not Linked*\n\nTo use floor controls, simulations, and reports, please link your WhatsApp in the dashboard.\n\n━━━━━━━━━━━━━━━━━━\n*Available without linking:*\n• *list* - View all properties\n• *help* - Show commands\n• *status* - System status\n━━━━━━━━━━━━━━━━━━\n\n_Log in to your dashboard and go to Settings → Link WhatsApp_&lt;/Message&gt;&lt;/Response&gt;'">backend/tests/test_whatsapp_backlog.py:104: in test_partial_property_name_match
    assert "Horizon Tech Park" in content
E   assert 'Horizon Tech Park' in '&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;Response&gt;&lt;Message&gt;#x1F512 *Account Not Linked*\n\nTo use floor controls, simulations, and reports, please link your WhatsApp in the dashboard.\n\n━━━━━━━━━━━━━━━━━━\n*Available without linking:*\n• *list* - View all properties\n• *help* - Show commands\n• *status* - System status\n━━━━━━━━━━━━━━━━━━\n\n_Log in to your dashboard and go to Settings → Link WhatsApp_&lt;/Message&gt;&lt;/Response&gt;'</failure></testcase><testcase classname="backend.tests.test_whatsapp_backlog.TestAlertsCommand" name="test_alerts_command_returns_response" time="0.837"><failure message="AssertionError: Should show either active alerts or no alerts message&#10;assert (False or False)">backend/tests/test_whatsapp_backlog.py:129: in test_alerts_command_returns_response
    assert has_alerts or has_no_alerts, "Should show either active alerts or no alerts message"
E   AssertionError: Should show either active alerts or no alerts message
E   assert (False or False)</failure></testcase><testcase classname="backend.tests.test_whatsapp_backlog.TestStatusCommand" name="test_status_command_returns_system_status" time="0.851" /><testcase classname="backend.tests.test_whatsapp_backlog.TestSubscribeCommand" name="test_subscribe_command_subscribes_to_alerts" time="0.850"><failure message="assert ('Subscribed' in '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;Response&gt;&lt;Message&gt;#x1F512 *Account Not Linked*\n\nTo use floor controls, simulations, and reports, please link your WhatsApp in the dashboard.\n\n━━━━━━━━━━━━━━━━━━\n*Available without linking:*\n• *list* - View all properties\n• *help* - Show commands\n• *status* - System status\n━━━━━━━━━━━━━━━━━━\n\n_Log in to your dashboard and go to Settings → Link WhatsApp_&lt;/Message&gt;&lt;/Response&gt;' or 'subscribe' in '&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;response&gt;&lt;message&gt;#x1F512 *account not linked*\n\nto use floor controls, simulations, and reports, please link your whatsapp in the dashboard.\n\n━━━━━━━━━━━━━━━━━━\n*available without linking:*\n• *list* - view all properties\n• *help* - show commands\n• *status* - system status\n━━━━━━━━━━━━━━━━━━\n\n_log in to your dashboard and go to settings → link whatsapp_&lt;/message&gt;&lt;/response&gt;')&#10; +  where '&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;response&gt;&lt;message&gt;#x1F512 *account not linked*\n\nto use floor controls, simulations, and reports, please link your whatsapp in the dashboard.\n\n━━━━━━━━━━━━━━━━━━\n*available without linking:*\n• *list* - view all properties\n• *help* - show commands\n• *status* - system status\n━━━━━━━━━━━━━━━━━━\n\n_log in to your dashboard and go to settings → link whatsapp_&lt;/message&gt;&lt;/response&gt;' = &lt;built-in method lower of str object at 0xaded452b0a90&gt;()&#10; +    where &lt;built-in method lower of str object at 0xaded452b0a90&gt; = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;Response&gt;&lt;Message&gt;#x1F512 *Account Not Linked*\n\nTo use floor controls, simulations, and reports, please link your WhatsApp in the dashboard.\n\n━━━━━━━━━━━━━━━━━━\n*Available without linking:*\n• *list* - View all properties\n• *help* - Show commands\n• *status* - System status\n━━━━━━━━━━━━━━━━━━\n\n_Log in to your dashboard and go to Settings → Link WhatsApp_&lt;/Message&gt;&lt;/Response&gt;'.lower">backend/tests/test_whatsapp_backlog.py:179: in test_subscribe_command_subscribes_to_alerts
    assert "Subscribed" in content or "subscribe" in content.lower()
E   assert ('Subscribed' in '&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;Response&gt;&lt;Message&gt;#x1F512 *Account Not Linked*\n\nTo use floor controls, simulations, and reports, please link your WhatsApp in the dashboard.\n\n━━━━━━━━━━━━━━━━━━\n*Available without linking:*\n• *list* - View all properties\n• *help* - Show commands\n• *status* - System status\n━━━━━━━━━━━━━━━━━━\n\n_Log in to your dashboard and go to Settings → Link WhatsApp_&lt;/Message&gt;&lt;/Response&gt;' or 'subscribe' in '&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;response&gt;&lt;message&gt;#x1F512 *account not linked*\n\nto use floor controls, simulations, and reports, please link your whatsapp in the dashboard.\n\n━━━━━━━━━━━━━━━━━━\n*available without linking:*\n• *list* - view all properties\n• *help* - show commands\n• *status* - system status\n━━━━━━━━━━━━━━━━━━\n\n_log in to your dashboard and go to settings → link whatsapp_&lt;/message&gt;&lt;/response&gt;')
E    +  where '&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;response&gt;&lt;message&gt;#x1F512 *account not linked*\n\nto use floor controls, simulations, and reports, please link your whatsapp in the dashboard.\n\n━━━━━━━━━━━━━━━━━━\n*available without linking:*\n• *list* - view all properties\n• *help* - show commands\n• *status* - system status\n━━━━━━━━━━━━━━━━━━\n\n_log in to your dashboard and go to settings → link whatsapp_&lt;/message&gt;&lt;/response&gt;' = &lt;built-in method lower of str object at 0xaded452b0a90&gt;()
E    +    where &lt;built-in method lower of str object at 0xaded452b0a90&gt; = '&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;Response&gt;&lt;Message&gt;#x1F512 *Account Not Linked*\n\nTo use floor controls, simulations, and reports, please link your WhatsApp in the dashboard.\n\n━━━━━━━━━━━━━━━━━━\n*Available without linking:*\n• *list* - View all properties\n• *help* - Show commands\n• *status* - System status\n━━━━━━━━━━━━━━━━━━\n\n_Log in to your dashboard and go to Settings → Link WhatsApp_&lt;/Message&gt;&lt;/Response&gt;'.lower</failure></testcase><testcase classname="backend.tests.test_whatsapp_backlog.TestUnsubscribeCommand" name="test_unsubscribe_command_unsubscribes_from_alerts" time="1.721" /><testcase classname="backend.tests.test_whatsapp_backlog.TestWhatsAppStatusEndpoint" name="test_status_endpoint_shows_alert_scheduler_running" time="0.866" /><testcase classname="backend.tests.test_whatsapp_backlog.TestConversationHistoryPersistence" name="test_webhook_saves_inbound_message" time="0.851" /><testcase classname="backend.tests.test_whatsapp_backlog.TestConversationHistoryPersistence" name="test_multiple_messages_in_session" time="2.531" /><testcase classname="backend.tests.test_whatsapp_backlog.TestAlertSubscriptionEndpoints" name="test_subscribe_endpoint_requires_auth" time="0.844" /><testcase classname="backend.tests.test_whatsapp_backlog.TestAlertSubscriptionEndpoints" name="test_unsubscribe_endpoint_requires_auth" time="0.878" /><testcase classname="backend.tests.test_whatsapp_backlog.TestAlertSubscriptionEndpoints" name="test_subscriptions_endpoint_requires_auth" time="0.852" /><testcase classname="backend.tests.test_whatsapp_backlog.TestAlertSubscriptionEndpoints" name="test_alert_history_endpoint_requires_auth" time="0.645" /><testcase classname="backend.tests.test_whatsapp_backlog.TestAlertSubscriptionEndpoints" name="test_check_now_endpoint_requires_auth" time="1.475" /><testcase classname="backend.tests.test_whatsapp_backlog.TestConversationHistoryEndpoints" name="test_conversations_endpoint_requires_auth" time="0.636" /><testcase classname="backend.tests.test_whatsapp_backlog.TestConversationHistoryEndpoints" name="test_conversation_by_phone_requires_auth" time="0.855" /><testcase classname="backend.tests.test_whatsapp_backlog.TestWelcomeMessage" name="test_unknown_command_returns_welcome" time="0.665" /><testcase classname="backend.tests.test_whatsapp_backlog.TestHealthCheck" name="test_api_health" time="0.856" /></testsuite></testsuites>